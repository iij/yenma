# $Id$
#
# example and description of yenma.conf


# [Socket designation format]
# - For TCP socket
#   [address-family ":"] port ["@" address]
# - address-family: Address family. Either "inet" (for IPv4) or "inet6" (for IPv6).
#                   Automatically determined if not specified.
# - port: port number
# - address: IP address to listen to. If not specified, the address corresponds to INADDR_ANY and in6addr_any is used.
# - UNIX domain socket
#   "unix:" path
#   - path: path to UNIX domain socket
#
# [Boolean]
# following values are valid respectively:
#   Positive: "true", "yes", "1"
#   Negative: "false", "no", "0"


## The directory to run YENMA.
## If not specified, the current directory at startup will be used.
## Valid Values: Path
## Default value: (not specified)
# Service.Chdir:

## Path of PID file
## Valid Values: Path
## Default value: /var/run/yenma.pid
Service.PidFile: /var/run/yenma.pid

## The user who runs YENMA.
## If not specified, the user who starts YENMA will be used.
## Valid values: Username
## Default value: (not specified)
# Service.User:

## Control socket. If not specified, the control socket will not be opened.
## Valid values: socket
## Default value: (not specified)
# Service.ControlSocket:

## Time to wait for connection disappeared when graceful shutdown.
## The value is in seconds. If 0 is specified, wait indefinitely. [Reloadable]
## Valid values: non-negative integer value (seconds)
## Default value: 0
Service.GracefulShutdownTimeout: 0

## Do not replace stdin, stdout, and stderr with /dev/null at YENMA startup.
## only for debug use.
## Valid values: Boolean value
## Default value: false
Service.HoldTtyOpen: false

## IP address block of the connection source to be excluded from the verification process.
## Usually specifying the internal network. CIDR notation can be used.
## Separate multiple blocks with commas. [Reloadable]
## Valid values: Comma-separated IP address block
## Default value: (not specified)
# Service.ExclusionBlocks:

## Facility to use with syslog
## Valid values: syslog facility, valid for each OS
## Default value: mail
Logging.Facility: mail

## Log-level mask. logs higher than the specified log level are output.
## Valid values: Log level used by syslog
##               ("emerg", "alert", "crit", "err", "warning", "notice", "info", "debug")
## Default value: info
Logging.Mask: info

## String to use as an identifier in syslog
## Valid values: Any string
## Default value: yenma
Logging.Ident: yenma

## Socket to accept connections from MTA
## Valid values: socket
## Default value: unix: /var/run/yenma.sock
Milter.Socket: unix: /var/run/yenma.sock

## Milter socket timeout value. The value is in seconds.
## Note that 0 means "do not wait", not "wait indefinitely".
## the default value of 7210 [s] will be used if a negative value is specified
## Valid values: integer value (seconds)
## Default value: -1
Milter.Timeout: -1

## backlog value for the listen() Milter socket
## Valid values: integer value
## Default value: 100
Milter.Backlog: 100

## Log-level value for the libmilter's log output. It is passed directly to smfi_setdbg().
## Please see the manual of libmilter's smfi_setdbg() for details.
## Valid values: an integer between 0 and 6
## Default value: 0
Milter.DebugLevel: 0

## Timing adjustment to acquire QID from MTA.
## Set true if MTA is Postfix, false for Sendmail. [Reloadable]
## Valid values: Boolean value
## Default value: false
Milter.LazyQidFetch: false

## Resolver library to use. Either "ldns" or "libbind".
## The specified library must be included at build time.
## If not specified, a valid library is searched and selected in order of ldns -> libbind. [Reloadable]
## Valid values: "ldns", "libbind" (the one included at build time)
## Default value: (not specified)
# Resolver.Engine:

## A configuration file for Resolver. Correspond to resolv.conf.
## Valid only when using ldns. If not specified, /etc/resolv.conf is used. [Reloadable]
## Valid Values: Path
## Default value: (not specified)
# Resolver.ConfigFile:

## Instance counts of the resolver to pool.
## you can set the maximum parallelism handled by the standalone Milter in steady state, as a guide. [Reloadable]
## Valid values: non-negative integer value
## Default value: 256
Resolver.PoolSize: 256

## Timeout when the resolver makes a query. The value is in seconds.
## It overwrites the setting specified in Resolver.ConfigFile.
## If a negative value is specified, Resolver.ConfigFile setting will be used. [Reloadable]
## Valid values: integer value
## Default value: -1
Resolver.Timeout: -1

## The retry count when the resolver makes a query.
## It overwrites the setting specified in Resolver.ConfigFile.
## If a negative value is specified, Resolver.ConfigFile setting will be used. [Reloadable]
## Valid values: integer value
## Default value: -1
Resolver.RetryCount: -1

## An identifier used in the Authentication-Results header.
## If not specified, the hostname acquired with gethostname() will be used. [Reloadable]
## Valid values: Any string
## Default value: (not specified)
AuthResult.ServId:

## Use "hardfail" instead of "fail" as the evaluation result of SPF and Sender ID.
## For RFC 5451 compatibility. [Reloadable]
## Valid values: Boolean value
## Default value: false
AuthResult.UseSpfHardfail: false

# Enable SPF verification. [Reloadable]
## Valid values: Boolean value
## Default value: true
SPF.Verify: true

## If the SPF verification result is fail, the value of "exp=" modifier will be written
## in the reasonspec of the Authentication-Results header. [Reloadable]
## Valid values: Boolean value
## Default value: false
SPF.AppendExplanation: false

## Enable SPF RR (type 99) search for the SPF record query.
## For RFC 4408 compatibility. [Reloadable]
## Valid values: Boolean value
## Default value: false
SPF.LookupSPFRR: false

## Record "+all" directive to the log if it encountered in SPF evaluation. [Reloadable]
## Valid values: Boolean value
## Default value: false
SPF.LogPlusAllDirective: false

## "void lookups" counts to be considered normal during SPF evaluation.
## Unlimited if a negative value specified. [Reloadable]
## Valid values: integer value
## Default value: 2
SPF.VoidLookupLimit

# Enable Sender ID verification. [Reloadable]
## Valid values: Boolean value
## Default value: false
SIDF.Verify: false

## If the Sender ID validation result is fail, the value of "exp=" modifier will be written
## in the reasonspec of the Authentication-Results header. [Reloadable]
## Valid values: Boolean value
## Default value: false
SIDF.AppendExplanation: false

## Enable SPF RR (type 99) search for SPF records query.
## For RFC 4408 compatibility. [Reloadable]
## Valid values: Boolean value
## Default value: false
SIDF.LookupSPFRR: false

## Record "+all" directive to the log if it encountered in Sender ID evaluation. [Reloadable]
## Valid values: Boolean value
## Default value: false
SIDF.LogPlusAllDirective: false

## "void lookups" count to be considered normal in SPF evaluation.
## Unlimited if you specify a negative value. [Reloadable]
## Valid values: integer value
## Default value: 2
SIDF.VoidLookupLimit

## Enable DKIM validation. [Reloadable]
## Valid values: Boolean value
## Default value: true
Dkim.Verify: true

# Accept expired DKIM digital signature. [Reloadable]
## Valid values: Boolean value
## Default value: false
Dkim.AcceptExpiredSignature: false

# Accept DKIM signature with the future time stamp. [Reloadable]
## Valid values: Boolean value
## Default value: false
Dkim.AcceptFutureSignature: false

## The maximum DKIM signature count per verification to verify. [Reloadable]
## Valid values: positive integer value
## Default value: 3
Dkim.SignHeaderLimit: 3

## Evaluate the key-g-tag of the public key record. For RFC 4871 compatibility. [Reloadable]
## Valid values: Boolean value
## Default value: false
Dkim.Rfc4871Compatible: false

## Specify the minimum RSA key length to accept as a valid signature. [Reloadable]
## Valid values: positive integer value
## Default value: 0
Dkim.MinRSAKeyLength: 0

## Enable DKIM-ATPS validation. [Reloadable]
## Valid values: Boolean value
## Default value: false
DkimAtps.Verify: false

## Enable DKIM-ADSP validation.
## Enabling this setting will also enable DKIM validation automatically. [Reloadable]
## Valid values: Boolean value
## Default value: false
DkimAdsp.Verify: false

# Enable DMARC validation.
## Enabling this setting will also enable SPF validation and DKIM validation automatically. [Reloadable]
## Valid values: Boolean value
## Default value: true
Dmarc.Verify: true

# Virtual DMARC verification mode.
## Virtual DMARC is a functionality that refers to the default DMARC policy
## when a DMARC record cannot be found at DMARC verification.
## Set relax for aspf=r, adkim=r as the default DMARC policy,
## strict for aspf=s, adkim=s and none for turning off the virtual DMARC verification. [Reloadable]
## Valid values: relax, strict, none
## Default value: none
Dmarc.VdmarcVerification: none

## The path to a file holding a list of the public suffix.
## Lists are available from https://publicsuffix.org/list/ etc.
## Required for DMARC validation. [Reloadable]
## Valid Values: Path
## Default value: (not specified)
Dmarc.PublicSuffixList:

## Action to take if the Author Domain of the message whose DMARC validation failed has p=reject policy.
## Valid values: one of none, discard, reject, tempfail
## Default value: reject
Dmarc.RejectAction: reject

## SMTP Response Code for the messages falsifying the domain declared as "p=reject" in DMARC record.
## Used only if Dmarc.RejectAction is "reject" or "tempfail".
## In the case of reject, it must start with '5', the case of tempfail it must begin with '4'.
## Default value: 550
Dmarc.RejectReplyCode: 550

## SMTP Enhanced Response Code for the messages falsifying the domain declared as "p=reject" in DMARC record.
## Used only if Dmarc.RejectAction is "reject" or "tempfail".
## In the case of reject, it must start with '5', the case of tempfail it must begin with '4'.
## Default value: 5.7.1
Dmarc.RejectEnhancedStatusCode: 5.7.1

## SMTP Response message for the messages falsifying the domain declared as "p=reject" in DMARC record.
## Used only if Dmarc.RejectAction is "reject" or "tempfail".
## Valid values: Any string
## Default value: Email rejected per DMARC policy
Dmarc.RejectMessage: Email rejected per DMARC policy
